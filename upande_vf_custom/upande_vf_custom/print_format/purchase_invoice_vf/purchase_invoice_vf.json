{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-07-09 08:22:01.524791",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\n    <h2><div>Purchase Invoice</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small></h2>\\n</div>\\n\\n<div class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-sm\\\">\\n        To: Victory Farms Limited\\n        P.O. Box 14730\\n        WESTLANDS NAIROBI 00800\\n        KENYA\\n    </div>\\n    <div class=\\\"col-sm\\\">\\n        <p>Invoice Date</p>\\n        27 May 2024\\n        <p>Reference Number</p>\\n        PO-30698\\n    </div>\\n    <div class=\\\"col-sm\\\">\\n        <p>Quantity Instruments Limited</p>\\n        <p>Tax Number: P052002222D</p>\\n    </div>\\n  </div>\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"supplier_name\", \"print_hide\": 0, \"label\": \"Supplier Name\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Accounting Dimensions \"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"asset\", \"print_hide\": 0, \"label\": \"Asset\"}, {\"fieldname\": \"cost_center\", \"print_hide\": 0, \"label\": \"Cost Center\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"department\", \"print_hide\": 0, \"label\": \"Department\"}, {\"fieldname\": \"project\", \"print_hide\": 0, \"label\": \"Project\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Currency and Price List\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"use_transaction_date_exchange_rate\", \"print_hide\": 0, \"label\": \"Use Transaction Date Exchange Rate\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Items\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"scan_barcode\", \"print_hide\": 0, \"label\": \"Scan Barcode\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"items\", \"print_hide\": 0, \"label\": \"Items\", \"visible_columns\": [{\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total_qty\", \"print_hide\": 0, \"label\": \"Total Quantity\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total\", \"print_hide\": 0, \"label\": \"Total\"}, {\"fieldname\": \"tax_withholding_net_total\", \"print_hide\": 0, \"label\": \"Tax Withholding Net Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Taxes and Charges\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"incoterm\", \"print_hide\": 0, \"label\": \"Incoterm\"}, {\"fieldname\": \"named_place\", \"print_hide\": 0, \"label\": \"Named Place\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"taxes\", \"print_hide\": 0, \"label\": \"Purchase Taxes and Charges\", \"visible_columns\": [{\"fieldname\": \"category\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"add_deduct_tax\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"charge_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"row_id\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"included_in_print_rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"included_in_paid_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_head\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"300px\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"asset\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"cost_center\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"department\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_currency\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"tax_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"total\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Totals\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}, {\"fieldname\": \"use_company_roundoff_cost_center\", \"print_hide\": 0, \"label\": \"Use Company Default Round Off Cost Center\"}, {\"fieldname\": \"rounded_total\", \"print_hide\": 0, \"label\": \"Rounded Total\"}, {\"fieldname\": \"in_words\", \"print_hide\": 0, \"label\": \"In Words\"}, {\"fieldname\": \"disable_rounded_total\", \"print_hide\": 0, \"label\": \"Disable Rounded Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Tax Withheld Vouchers\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"tax_withheld_vouchers\", \"print_hide\": 0, \"label\": \"Tax Withheld Vouchers\", \"visible_columns\": [{\"fieldname\": \"voucher_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"voucher_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"taxable_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Pricing Rules\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"pricing_rules\", \"print_hide\": 0, \"label\": \"Pricing Rule Detail\", \"visible_columns\": [{\"fieldname\": \"pricing_rule\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"margin_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate_or_discount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rule_applied\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Raw Materials Supplied\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"supplied_items\", \"print_hide\": 0, \"label\": \"Supplied Items\", \"visible_columns\": [{\"fieldname\": \"main_item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rm_item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"bom_detail_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"300px\", \"print_hide\": 0}, {\"fieldname\": \"stock_uom\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"conversion_factor\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"reference_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"consumed_qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"current_stock\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"batch_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"serial_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rotogal\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"vf_crate_no\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldname\": \"etr_invoice_number\", \"print_hide\": 0, \"label\": \"ETR Invoice Number\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Payments\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"cash_bank_account\", \"print_hide\": 0, \"label\": \"Cash/Bank Account\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Advance Payments\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"allocate_advances_automatically\", \"print_hide\": 0, \"label\": \"Set Advances and Allocate (FIFO)\"}, {\"fieldname\": \"only_include_allocated_payments\", \"print_hide\": 0, \"label\": \"Only Include Allocated Payments\"}, {\"fieldname\": \"advance_tax\", \"print_hide\": 0, \"label\": \"Advance Tax\", \"visible_columns\": [{\"fieldname\": \"reference_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"reference_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"reference_detail\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"account_head\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"allocated_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Supplier Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"address_display\", \"print_hide\": 0, \"label\": \"Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"contact_display\", \"print_hide\": 0, \"label\": \"Contact\"}, {\"fieldname\": \"contact_mobile\", \"print_hide\": 0, \"label\": \"Mobile No\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Company Billing Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"billing_address\", \"print_hide\": 0, \"label\": \"Select Billing Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"billing_address_display\", \"print_hide\": 0, \"label\": \"Billing Address\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Payment Terms\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"payment_terms_template\", \"print_hide\": 0, \"label\": \"Payment Terms Template\"}, {\"fieldname\": \"ignore_default_payment_terms_template\", \"print_hide\": 0, \"label\": \"Ignore Default Payment Terms Template\"}, {\"fieldname\": \"payment_schedule\", \"print_hide\": 0, \"label\": \"Payment Schedule\", \"visible_columns\": [{\"fieldname\": \"description\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"due_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"mode_of_payment\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount_date\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"payment_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"outstanding\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"paid_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"discounted_amount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"base_payment_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms and Conditions\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"terms\", \"print_hide\": 0, \"label\": \"Terms and Conditions\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Accounting Details\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"unrealized_profit_loss_account\", \"print_hide\": 0, \"label\": \"Unrealized Profit / Loss Account\"}, {\"fieldname\": \"repost_required\", \"print_hide\": 0, \"label\": \"Repost Required\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Subscription\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"update_auto_repeat_reference\", \"print_hide\": 0, \"label\": \"Update Auto Repeat Reference\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Hold Invoice\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"on_hold\", \"print_hide\": 0, \"label\": \"Hold Invoice\"}, {\"fieldname\": \"release_date\", \"print_hide\": 0, \"label\": \"Release Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"hold_comment\", \"print_hide\": 0, \"label\": \"Reason For Putting On Hold\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Additional Info\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"is_internal_supplier\", \"print_hide\": 0, \"label\": \"Is Internal Supplier\"}, {\"fieldname\": \"represents_company\", \"print_hide\": 0, \"label\": \"Represents Company\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"is_old_subcontracting_flow\", \"print_hide\": 0, \"label\": \"Is Old Subcontracting Flow\"}]",
 "html": "<link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\" crossorigin=\"anonymous\">\n\n{% set p_flow =  {'p_o': '', 'p_r': ''} %}\n\t\n{% if doc.items %}\n\t\n\t{% if p_flow.update({'p_o': doc.items[0].purchase_order }) %}{% endif %}\n\t{% if p_flow.update({'p_r': doc.items[0].purchase_receipt }) %}{% endif %}\n\t\t\t\n{% endif %}\n\n<div class=\"\">\n  <div class=\"row justify-content-between\">\n    <div class=\"col-auto mr-auto\">\n    <div>\n      {%- if doc.meta.is_submittable and doc.docstatus==0-%}\n      <div class=\"alert alert-info text-center\">\n          <h6 style=\"margin: 0px;\">{{ _(\"PROFORMA\") }}</h6>\n      </div>\n      {%- endif -%}\n      \n      {%- if doc.meta.is_submittable and doc.docstatus==2-%}\n      <div class=\"alert alert-danger text-center\">\n          <h6 style=\"margin: 0px;\">{{ _(\"CANCELLED\") }}</h6>\n      </div>\n      {%- endif -%}\n      \n      {%- macro add_header(page_num, max_pages, doc, letter_head, no_letterhead) -%}\n          {% if letter_head and not no_letterhead %}\n          <div class=\"letter-head\">{{ letter_head }}</div>\n          {% endif %}\n          \n          {% if max_pages > 1 %}\n          <p class=\"text-right\">{{ _(\"Page #{0} of {1}\").format(page_num, max_pages) }}</p>\n          {% endif %}\n      {%- endmacro -%}\n  \n      {{ add_header(0,1,doc,letter_head, no_letterhead) }}\n    </div>\n\n    <br>\n\n    <div>\n        <p><strong>Supplier Information</strong></p>\n          <p>{{ doc.supplier_name }}<br>{% if doc.tax_id %}PIN: {{ doc.tax_id }} {% endif %}</p>\n          {% if doc.bill_no %}\n          <p>Bill Number: {{ doc.bill_no }}</p>\n          {% endif %}\n    </div>\n  </div>\n  <div class=\"col-auto\">\n      <h6>PURCHASE INVOICE</h6>\n      <p>Invoice Date: {{ doc.get_formatted(\"posting_date\") or '' }}<br><strong>Purchase Invoice Number</strong><br>{{ doc.name }}</p>\n      <br>\n        {% if p_flow['p_o'] %}\n        <p><strong>Purchase Order Number</strong><br>{{ p_flow['p_o'] }}</p>\n        {% set this_docs_mr = frappe.db.get_value(\"Purchase Order Item\", {\"parent\": p_flow['p_o'] }, \"material_request\") %}\n        {% endif %}\n        \n        {% if p_flow['p_o'] %}\n        <p><strong>Purchase Receipt Number</strong><br>{{ p_flow['p_r'] }}</p>\n        {% endif %}\n        \n        {% if this_docs_mr %}\n        <p><strong>Stock Request Number</strong><br>{{ this_docs_mr }}</p>\n        {% endif %}\n  </div>\n  </div>\n</div>\n\n\n\n<table class=\"table table-bordered\">\n\t<tbody>\n{% set taxable = {'amount_origin': 0, 'tax':0} %}\n{% set non_taxable = {'amount_origin': 0, 'tax':0} %}\n{% set discount = {'total': 0} %}\n\t\t<tr>\n\t\t\t<th style=\"width: 25%; text-align: left;\">Item</th>\n\t\t\t<th style=\"width: 38%; text-align: left;\">Description</th>\n\t\t\t<th style=\"width: 10%; text-align: center;\">Qty</th>\n\t\t\t<th style=\"width: 15%; text-align: center;\">Unit Price</th>\n\t\t\t<th style=\"width: 15%; text-align: center;\">Amount</th>\n\n\t\t</tr>\n\t\t{%- for row in doc.items -%}\n\t\t<tr>\n\t\t    <td style=\"text-align: left;\">{{ row.item_code }}</td>\n\t\t\t<td style=\"text-align: left;\">{{ row.item_code }}</td>\n\t\t\t<td style=\"text-align: center;\">{{ row.qty }}</td>\n\t\t\t<td style=\"text-align: right;\">{{ frappe.utils.fmt_money(row.rate) }}<div style=\"border: 0px;\"></div></td>\n\t\t\t<td style=\"text-align: right;\">{{ frappe.utils.fmt_money(row.amount) }}</td>\n\n\t\t</tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n\n<div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-md-6\"></div> <!-- Left half blank -->\n        <div class=\"col-md-6 d-flex flex-column align-items-start p-4\">\n            \n            <p class=\"d-flex justify-content-between w-100\">\n                <span>Subtotal</span>\n                <span>{{ doc.get_formatted(\"net_total\", doc) }}</span>\n            </p>\n            \n            <p class=\"d-flex justify-content-between w-100\">\n                <span>Total Purchase Taxes</span>\n                <span>{{ doc.get_formatted(\"base_taxes_and_charges_added\", doc) }}</span>\n            </p>\n            \n            \n            {% if doc.base_taxes_and_charges_deducted %}\n            <p class=\"d-flex justify-content-between w-100\">\n                <span>Less Payment WHT</span>\n            \n                <span>{{ frappe.utils.fmt_money(\"%.2f\"|format(doc.base_taxes_and_charges_deducted),currency=\"KES\" ) }}</span>\n            </p>\n            {% endif %}\n            \n            <hr class=\"w-100 my-2\"> <!-- Horizontal line with margin -->\n            <p class=\"d-flex justify-content-between w-100\">\n                <span>TOTAL KES</span>\n                <span>{{ doc.get_formatted(\"grand_total\", doc)}}</span>\n            </p>\n            <br>\n            <p class=\"d-flex justify-content-between w-100\">\n                <span>DUE DATE</span>\n                <span>{{ doc.get_formatted(\"due_date\") }}</span>\n            </p>\n        </div>\n    </div>\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-10-02 23:03:31.086845",
 "modified_by": "Administrator",
 "module": "Upande Vf Custom",
 "name": "Purchase Invoice VF",
 "owner": "kariuki@upande.com",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}